/**
 * Simple javascript Date manipulation, parsing and printing library.
 * version 0.5.1
 * Kane Cohen [KaneCohen@gmail.com] | https://github.com/KaneCohen
 * @preserve
 */
!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.returnExports=e()}(this,function(){"use strict";function t(t){return t.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"")}function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(t){return Math.abs(Math.round(t))}function i(t,e,n){var i=t+"";for("undefined"==typeof n&&(n="0");i.length<e;)i=n+i;return i}function r(t,e,n){var i=t+"";for("undefined"==typeof n&&(n="0");i.length<e;)i+=n;return i}function s(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function u(t,e){var n,i,r,s;return e||(e=!1),s=t.toDate(),s.setHours(0,0,0),r=0===t.lang().week.weekStart?s.getDay():s.getDay()||7,e?(n=new Date(s.getFullYear(),0,1),s.setDate(s.getDate()+t.lang().week.yearStart-r),i=Math.floor((s-n+1)/6048e5)):(s.setDate(s.getDate()+t.lang().week.yearStart-r),n=new Date(s.getFullYear(),0,1),i=Math.ceil((s-n+1)/6048e5)),i}function a(t){return(t.toDate().getDay()+7-t.lang().week.weekStart)%7}function o(t){var e=t.toDate(),n=e.getDate(),i=e.getFullYear(),r=new Date(i,0,1,12,0,0),s=new Date(i,e.getMonth(),n,12,0,0);return Math.round((s-r)/864e5)+1}function h(t,e){return new Date(e,t,0).getDate()}function d(t,e,n){return e instanceof Date?new Date(e):e instanceof w?new Date(e.toDate()):"string"==typeof e?y(t,e,n):"number"==typeof e?new Date(e):Array.isArray(e)?g(t,e,n):new Date}function f(t){var e,n,i=t.match(b),r=0,s=0,u={format:[],output:[],regex:[],groups:[]};if(i)for(s=i.length,M=0,r;s>r;r++){e=i[r],n=/\w+/.exec(e)[0],u.format[r]=n,u.regex[r]=H[n],u.groups[r]=Y[n[0]]||null;var a=t.indexOf(e);0===a?u.output[M]=null:(u.output[M]=t.slice(0,a),u.output[++M]=null),t=t.slice(a+e.length),M++}else u.output=[t];return u}function c(t,e){var n=k.exec(e),i="",r=n.length;if(n[0]){for(M=0,r=W.dates.length;r>M;M++)if(W.dates[M][1].exec(e)){i=W.dates[M][0]+(n[6]||" ");break}for(M=0,r=W.times.length;r>M;M++)if(W.times[M][1].exec(e)){i+=W.times[M][0];break}}return e.match(C)&&(i+="{Z}"),l(t,e,i)}function l(t,e,n){var i=f(n);return m(t,e,i)}function m(t,e,n){var i,r,u,a,o,h=0,d=null,f=new Date,c=0,l=0;if(!n.format)return null;for(s(f),l=n.format.length,c;l>c;c++)i=e.substr(h),a=i.match(n.regex[c]),a&&(u=a[0],r="set"+n.groups[c],h+=i.indexOf(u)+String(u).length,"setTimezone"===r?(o=u.match(U),d=60*o[1]*60+60*o[2],d="-"==o[0]?-d:d):("setMonth"===r&&u--,f[r](u)));if(null!==d)return new Date(f.getTime()-(p+60*d*1e3));if(t.isUTC()){var m=f.getTimezoneOffset()-D;return 0!==m?new Date(f.getTime()-(p+60*m*1e3)):new Date(f.getTime()-p)}return f}function y(t,e,n){return"undefined"==typeof n?c(t,e):l(t,e,n)}function g(t,e){var n=[0,0,0,0,0,0,0];n=n.map(function(t,n){return e[n]||t});var i=new Date(n[0],n[1],n[2],n[3],n[4],n[5],n[6]);return t._utcMode?new Date(i.getTime()-p):i}function w(t,n){e(this,x),this._d=d(this,t,n)}var M,D=(new Date).getTimezoneOffset(),p=60*D*1e3,_={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},v={ms:"millisecond",milliseconds:"millisecond",seconds:"second",s:"second",minutes:"minute",m:"minute",hours:"hour",h:"hour",days:"day",d:"day",weeks:"week",w:"week",months:"month",M:"month",years:"year",y:"year",Y:"year"},x={_d:null,_utcMode:!1,_maxDiff:2592e3,_offset:p,_lang:"en"},T={en:{relativeTime:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"just now",minute:"{prefix} [a minute] {suffix}",minutes:"{prefix} {diff} [minutes] {suffix}",hour:"{prefix} [an hour] {suffix}",hours:"{prefix} {diff} [hours] {suffix}",day:"{prefix} [a day] {suffix}",days:"{prefix} {diff} [days] {suffix}",month:"{prefix} [a month] {suffix}",months:"{prefix} [months] {diff}",year:"{prefix} [a year] {suffix}",years:"{prefix} {diff} [years] {suffix}",wordDelimiter:" ",format:function(t,e){return t.year()===e.year()?"{D} {MMMM}":"{D} {MMMM} {YYYY}"}},pluralizer:function(t){return 1==t?0:1},calendar:{sameElse:"{D} {MMMM} {YYYY}",sameDay:"Today at {hh}:{mm}",nextDay:"Tomorrow at {hh}:{mm}",nextWeek:"{wwww} at {hh}:{mm}",lastDay:"Yesterday at {hh}:{mm}",lastWeek:"Last {wwww} at {hh}:{mm}"},week:{weekStart:0,yearStart:4},weekdays:function(t,e,n){n||(n=!1);var i={nominative:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Satruday","Sunday"],brief:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"]};return n?i.brief[t]:i.nominative[t]},months:function(t,e,n){n||(n=!1);var i={nominative:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],brief:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};return n?i.brief[t]:i.nominative[t]}}},Y={S:"Milliseconds",s:"Seconds",m:"Minutes",H:"Hours",h:"Hours",D:"Date",M:"Month",Y:"FullYear",Z:"Timezone"},S={},b=/{(\w+)}/gi,k=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,F="{YYYY}-{MM}-{DD}T{hh}:{mm}:{ss}{Z}",W={dates:[["{YYYY}-{MM}-{DD}",/\d{4}-\d{2}-\d{2}/],["{YYYY}-{DDD}",/\d{4}-\d{3}/]],times:[["{HH}:{mm}:{ss}",/(T| )\d\d:\d\d:\d\d/],["{HH}:{mm}",/(T| )\d\d:\d\d/],["{HH}",/(T| )\d\d/]]},C=/Z|[\+\-]\d\d:?\d\d/gi,U=/([\+\-]|\d\d)/gi,z="[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}",H={S:/\d{1,3}/,SS:/\d{3}/,s:/\d{1,2}/,ss:/\d{2}/,m:/\d{1,2}/,mm:/\d{2}/,H:/\d{1,2}/,HH:/\d{2}/,h:/\d{1,2}/,hh:/\d{2}/,a:/am|pm/,A:/AM|PM/,D:/\d{1,2}/,DD:/\d{2}/,DDD:/\d{1,3}/,DDDD:/\d{3}/,M:/\d{1,2}/,MM:/\d{2}/,MMM:/\w{2}/,MMMM:z,w:/\d{1}/,ww:/\d{2}/,www:z,wwww:z,W:/\d{1,2}/,WW:/\d{2}/,WWW:/\d{1,2}/,WWWW:/\d{2}/,Y:/\d{2}/,YY:/\d{2}/,YYYY:/\d{4}/,Z:/Z|[\+\-]\d\d:?\d\d/,ZZ:/Z|[\+\-]\d\d:?\d\d/},O={S:function(){return this.milliseconds()/10},SS:function(){return i(this.milliseconds()/100,3)},SSS:function(){return this.milliseconds()},s:function(){return this.seconds()},ss:function(){return i(this.seconds(),2)},m:function(){return this.minutes()},mm:function(){return i(this.minutes(),2)},H:function(){return this.hours()},HH:function(){return i(this.hours(),2)},h:function(){return this.hours()%12||12},hh:function(){return i(this.hours()%12||12,2)},a:function(){return this.hours()>11?"pm":"am"},A:function(){return this.hours()>11?"PM":"AM"},D:function(){return this.date()},DD:function(){return i(this.date(),2)},DDD:function(){return this.dayOfYear()},DDDD:function(){return i(this.dayOfYear(),3)},M:function(){return this.month()+1},MM:function(){return i(this.month()+1,2)},MMM:function(t){return this.lang().months(this.month()+1,t,!0)},MMMM:function(t){return this.lang().months(this.month()+1,t)},w:function(){return a(this)},ww:function(){return a(this)},www:function(t){return this.lang().weekdays(a(this),t,!0)},wwww:function(t){return this.lang().weekdays(a(this),t)},W:function(){return u(this)},WW:function(){return i(u(this),2)},WWW:function(){return u(this,!0)},WWWW:function(){return i(u(this,!0),2)},Y:function(){return this.year().substring(2)},YY:function(){return this.year().substring(2)},YYYY:function(){return this.year()},Z:function(){var t=this.isUTC()?0:this._offset/1e3/60,e=t>0?"-":"+";return e+=Math.abs(t)<6e3?"0":"",r(e+Math.abs(t/60),5)},ZZ:function(){var t=this.isUTC()?0:this._offset/1e3/60,e=t>0?"-":"+";return e+=Math.abs(t)<6e3?"0":"",e=r(e+Math.abs(t/60),5),[e.slice(0,3),":",e.slice(3)].join("")}};return w.prototype={fromNow:function(t,e){t="undefined"==typeof t?new w:new w(t);var n=this.diff(t,"all"),i=n.relative,r=this.lang().relativeTime,s=n.strict.s<0?!0:!1;return i.s<this._maxDiff?i.s<45&&this.humanize(r.seconds,i.s,s)||i.s<90&&this.humanize(r.minute,1,s)||i.m<45&&this.humanize(r.minutes,i.m,s)||i.m<90&&this.humanize(r.hour,1,s)||i.h<24&&this.humanize(r.hours,i.h,s)||i.h<42&&this.humanize(r.day,1,s)||i.d<31&&this.humanize(r.days,i.d,s)||i.M<12&&this.humanize(r.months,i.m,s)||i.y<1.5&&this.humanize(r.year,i.y,s)||i.y>1.5&&this.humanize(r.years,i.y,s)||this.humanize(r.years,i.y,s):(e||(e=r.format),"function"==typeof e&&(e=e(this,t)),this.format(e))},diff:function(t,e,i){e||(e="second"),e=v[e]||e,"undefined"==typeof i&&(i=!0);var r,s=d(this,t),u=this._d.getTime()-s.getTime(),a=u/1e3,o=a/60,h=o/60,f=h/24,c=f/30,l=f/365;switch(e){case"second":r=a;break;case"minute":r=o;break;case"hour":r=h;break;case"day":r=f;break;case"month":r=c;break;case"year":r=l;break;case"all":return{relative:{S:n(u),s:n(a),m:n(o),h:n(h),d:n(f),M:n(c),y:n(l)},strict:{S:u,s:a,m:o,h:h,d:f,M:c,y:l}};default:r=u}return i?Math.abs(Math.round(r)):r},humanize:function(e,n,i){var r=this.lang().relativeTime;e=this.choice(e,n);var s=i?r.prefixAgo:r.prefixFromNow,u=i?r.suffixAgo:r.suffixFromNow,a=this.format(e.replace(/{diff}/i,n).replace(/{prefix}/i,s||"").replace(/{suffix}/i,u||""));return t(a)},choice:function(t,e){var n=t.match(/\[(.+)\]/);if(!n)return t;var i=n[1].split("|"),r=i.length>1?i[this.lang().pluralizer(e)]:i[0];return t=t.replace(n[0],r)},format:function(t){t||(t=F);var e,n="",i=0,r=0;if("undefined"==typeof S[t]){for(e=S[t]=f(t),M=0,i=e.output.length,r;i>r;r++)if(null===e.output[r]){var s=O[e.format[M]];"function"==typeof t&&(s=t(s)||s),e.output[r]=s,M++}}else e=S[t];for(M=0;M<e.output.length;M++)n+="function"==typeof e.output[M]?e.output[M].call(this,t):e.output[M];return n},calendar:function(){var t=this.diff((new w).startOf("day"),"days",!1),e=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar[e])},startOf:function(t){switch(t){case"year":this._d.setMonth(0);case"month":this._d.setDate(1);case"week":this.weekday(0);case"day":this._d.setHours(0);case"hour":this._d.setMinutes(0);case"minute":this._d.setSeconds(0);case"second":this._d.setMilliseconds(0)}return this},endOf:function(t){return this.startOf(t).add(1,t).sub(1,"ms")},add:function(t,e){return this._d.setMilliseconds(this._d.getMilliseconds()+this.duration(t,e)),this},sub:function(t,e){return this._d.setMilliseconds(this._d.getMilliseconds()-this.duration(t,e)),this},duration:function(t,e){return e||(e="ms"),t*(_[e]||_[v[e]])},isValid:function(){return!!this._d},parse:function(t,e){return this._d=d(this,t,e),this},get:function(t,e){switch(e!==!0&&(t=v[t]||t),t){case"millisecond":return this.isUTC()?this._d.getUTCMilliseconds():this._d.getMilliseconds();case"second":return this.isUTC()?this._d.getUTCSeconds():this._d.getSeconds();case"minute":return this.isUTC()?this._d.getUTCMinutes():this._d.getMinutes();case"hour":return this.isUTC()?this._d.getUTCHours():this._d.getHours();case"day":return this.isUTC()?this._d.getUTCDay():this._d.getDay();case"date":return this.isUTC()?this._d.getUTCDate():this._d.getDate();case"month":return this.isUTC()?this._d.getUTCMonth():this._d.getMonth();case"year":return this.isUTC()?this._d.getUTCFullYear():this._d.getFullYear();default:return this._d.getTime()}},set:function(t,e){switch(t){case"millisecond":return this.milliseconds(e);case"second":return this.seconds(e);case"minute":return this.minutes(e);case"hour":return this.hours(e);case"date":return this.date(e);case"month":return this.month(e);case"year":return this.year(e)}return this},now:function(){return this._d=new Date,this},timestamp:function(t){var e=this.get("time",!0);return null==t?e:this.add(t-e,"ms")},unix:function(t){return null==t?Math.floor(this.timestamp()/1e3):this.timestamp(1e3*t)},milliseconds:function(t){var e=this.get("millisecond",!0);return null==t?e:this.add(t-e,"ms")},ms:function(t){return this.milliseconds(t)},seconds:function(t){var e=this.get("second",!0);return null==t?e:this.add(t-e,"s")},minutes:function(t){var e=this.get("minute",!0);return null==t?e:this.add(t-e,"m")},hours:function(t){var e=this.get("hour",!0);return null==t?e:this.add(t-e,"h")},day:function(t){var e=this.get("day",!0);return null==t?e:this.add(t-e,"d")},date:function(t){var e=this.get("date",!0);if(null==t)return e;var n=Math.min(this.date(),h(this.year(),t)),i=n-e;return i>=0?this._d.setDate(t):this.endOf("month").add(i,"d"),this},week:function(t,e){var n=u(this,e);return null==t?n:this.add(7*(t-n),"d")},weekday:function(t){var e=a(this);return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},dayOfYear:function(t){var e=o(this);return null==t?e:this.add(t-e,"d")},month:function(t){if(null==t)return this.get("month",!0);var e=Math.min(this.date(),h(this.year(),t));return this._d.setMonth(t,e),this},year:function(t){var e=this.get("year",!0);return null==t?e:this.add(t-e,"y")},yesterday:function(){return this.sub(1,"d").startOf("day")},today:function(){return this.startOf("day")},tomorrow:function(){return this.add(1,"d").startOf("day")},utc:function(){if(this._utcMode)return this;this._utcMode=!0;var t=this._d.getTimezoneOffset()-D;return 0!==t&&(this._d=new Date(this._d.getTime()-60*t*1e3)),this},isUTC:function(){return this._utcMode},local:function(){return this._utcMode=!1,this},clone:function(){return this.isUTC()?w.utc(this._d):new w(this._d)},lang:function(t,e){return t&&T[t]?(this._lang=t,T[t]):t&&!T[t]&&e?(this._lang=t,void(T[t]=e)):T[this._lang]||T.en},toDate:function(){return this.isUTC()?new Date(this._d):this._d},toString:function(){return this.format()}},e(w,{now:function(){return new w},unix:function(t){return new w(1e3*t)},yesterday:function(){return(new w).yesterday()},today:function(){return(new w).today()},tomorrow:function(){return(new w).tomorrow()},utc:function(t,e){return(new w).utc().parse(t,e)},lang:function(t,e){if(!T[t]&&e)T[t]=e,x._lang=t;else if(T[t]||e)x._lang=t;else try{require("../lang/"+t)}catch(n){}return x._lang}}),w});